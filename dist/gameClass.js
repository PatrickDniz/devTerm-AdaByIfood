class Game{constructor(t){this.word=t.toUpperCase(),this.limit=this.word.length,this.attempt=0,this.maxAttempt=8,this.attempDiv=document.querySelector(".game_bottom__clue--attemps strong"),this.input=document.querySelector(".game_middle__board--input"),this.button=document.querySelector(".game_middle__board--button"),this.next=document.querySelector(".game_top__next")}nextWord(t){var e=JSON.parse(localStorage.getItem("historic"))||[];e.push({word:this.word,attempts:this.attempt,result:t}),localStorage.setItem("historic",JSON.stringify(e)),this.attempt=this.maxAttempt,this.next.style.display="block"}validWord(){const i=this.input.value.toUpperCase();if(i.length==this.limit){if(this.attempt<=this.maxAttempt){this.attempt++,this.word===i&&this.nextWord("victory");var s=this.word.split(""),r=[];for(let t=0;t<this.word.length;t++)this.word[t]==i[t]&&(r[t]="correct",s.splice(t,1,""));for(let e=0;e<this.word.length;e++)r[e]||s.find(t=>t==i[e])&&(r[e]="attention",s.splice(s.indexOf(this.word[e]),1,""));var t=document.querySelector(".game_bottom__results"),e=document.createElement("div");for(let t=0;t<this.word.length;t++){var o=document.createElement("div");o.textContent=i[t],r[t]?o.classList.add(r[t]):o.classList.add("error"),e.appendChild(o)}t.appendChild(e),this.attempDiv.innerHTML=this.maxAttempt-this.attempt}}else console.log("digite uma palavra valida")}start(){this.button.addEventListener("click",()=>{this.validWord()}),this.input.addEventListener("keypress",t=>{"Enter"===t.key&&this.validWord()})}}export default Game;